<div class="zonas-container">

  <header class="page-header">
    <div class="header-info">
      <button class="btn-back" (click)="atras()">
        <img src="assets/icons/atras.png" alt="Volver">
      </button>
      <div class="header-icon-container">
        <img src="assets/icons/zona.png" alt="Zona" class="header-icon">
      </div>
      <div>
        <h1>Gesti√≥n de Zonas</h1>
        <p>Administra las zonas y ambientes de cada restaurante</p>
      </div>
    </div>
    <div>
      <button class="btn-nueva-zona" (click)="nueva()">
        + Nueva Zona
      </button>
    </div>
  </header>

  <div class="top-actions">

    <div class="search-filters">
      <div class="search-bar">
        <input 
          type="text" 
          placeholder="Buscar zonas..." 
          class="search-input"
          [(ngModel)]="searchTerm"
          (input)="onSearchChange()"
        >
      </div>

      <select 
        class="filter-select"
        [(ngModel)]="filtroRestaurante"
        (change)="onChangeRestaurante()"
      >
        <option value="">Filtrar por restaurante</option>
        <option *ngFor="let r of restaurantes" [value]="r.id">{{ r.nombre }}</option>
      </select>

    </div>
  </div>
  
  <section class="stats-section">
    <div class="stat-card">
      <div class="stat-content">
        <h3>Total Zonas</h3>
        <p class="stat-number">{{ totalZonas }}</p>
      </div>
      <img src="assets/icons/zona.png" alt="Zonas" class="stat-icon">
    </div>
  </section>

  <div *ngIf="zonas.length === 0" class="no-zonas">
    <img src="assets/icons/zona.png" alt="No Zonas" class="no-zonas-icon">
    <p class="no-zonas">No se encontraron zonas, agrega una nueva zona para comenzar.</p>
  </div>

  <section class="zonas-grid">

    <div class="zona-card" *ngFor="let zona of zonas">

      <img src="assets/icons/zona.png" class="zona-icon">

      <h3 class="zona-name">{{ zona.nombre }}</h3>

      <p class="restaurante-name">
        {{ obtenerRestaurante(zona.restauranteId) }}
      </p>

      <p class="horarios-label">Horarios:</p>
      <div class="horarios-tags">
        <span class="horario-tag" *ngFor="let h of zona.horarios">
          {{ h }}
        </span>
      </div>

      <div class="zona-footer">
        <div class="zona-buttons">
          <button class="btn-editar" (click)="editar(zona.id)">
            <img src="assets/icons/editar.png" alt="Editar">
            Editar
          </button>

          <button class="btn-eliminar" (click)="eliminar(zona.id)">
            <img src="assets/icons/eliminar.png" alt="Eliminar">
          </button>

        </div>
      </div>

    </div>

  </section>

</div>
